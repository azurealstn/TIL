# Hash Table

ë§Œì•½ì— ì–´ë–¤ ì‚¬ëŒì´ ìœ íŠœë¸Œ ë™ì˜ìƒì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì„œ ê·¸ëŒ€ë¡œ ìì‹ ì˜ ì˜ìƒì„ ì˜¬ë¦¬ê²Œ ë˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ë°”ë¡œ ì¤‘ë³µëœ ì˜ìƒì´ë¼ê³  ê²½ê³ ë¥¼ ë‚´ë¦¬ëŠ”ë° ì´ê²Œ ê°€ëŠ¥í•œ ì´ìœ ê°€ `Hash Table`ì´ë‹¤.

## Hash Table ê°œë…

```shell
F(key) -> Hash Code -> Index -> Value
```

Hash Tableì´ë€ ê²€ìƒ‰í•˜ê³ ì í•˜ëŠ” `Keyê°’`ì„ ì…ë ¥ë°›ê³  ì…ë ¥ë°›ì€ Keyê°’ì„ `í•´ì‹œ í•¨ìˆ˜`ë¥¼ ì´ìš©í•˜ì—¬ ë°˜í™˜ë°›ì€ `Hash Code`ë¥¼ ë°°ì—´ì˜ `index`ë¡œ í™˜ì‚°í•´ì„œ `ë°ì´í„°(Value)`ë¥¼ ì €ì¥í•˜ê³  ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ Hash Tableì´ë¼ í•œë‹¤. (ìœ„ì—ì„œ ì„¤ëª…í•œ í‚¤ì›Œë“œë“¤ì„ í•˜ë‚˜ì”© ì•Œì•„ë³´ì.)

> Keyê°’ì€ ë¬¸ìì—´ì´ë‚˜ ìˆ«ì, íŒŒì¼ ë°ì´í„°ê°€ ë  ìˆ˜ ìˆë‹¤.

## Hash Table ê³¼ì •

![hash1](/images/data-structure/hash1-1.png)

- Hash Tableì˜ ê°€ì¥ í° ì¥ì ì€ ê²€ìƒ‰ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë‹¤ëŠ” ì ì´ë‹¤.
- ìœ„ ê·¸ë¦¼ì—ì„œ `Keyê°’`ì„ `í•´ì‹œ í•¨ìˆ˜`ë¥¼ ì´ìš©í•˜ì—¬ `Hash Code`ë¥¼ ë°˜í™˜í•œë‹¤. - ì´ ë•Œ í•´ì‹œì½”ë“œëŠ” ì •ìˆ˜ì´ë‹¤.
- ë°°ì—´ì„ ê³ ì •ëœ í¬ê¸°ë§Œí¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ëŠ”ë‹¤. (0, 1, 2, ...)
- `(í•´ì‹œì½”ë“œ % ë°°ì—´ì˜ ê°œìˆ˜) -> ë‚˜ë¨¸ì§€ ê²°ê³¼ê°’`ì„ ë°°ì—´ì— ë‚˜ëˆ„ì–´ ë‹´ëŠ”ë‹¤.
- ì´ëŠ” í•´ì‹œì½”ë“œê°’ ìì²´ê°€ ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— í•´ì‹œì½”ë“œë¡œ ë°ì´í„°ì˜ ìœ„ì¹˜ë¥¼ ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê²€ìƒ‰ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥¸ ê²ƒì´ë‹¤. (ì‹œê°„ë³µì¡ë„: `O(1)`)

## Hash ì¶©ëŒ

Hash Tableì€ ê²€ìƒ‰ ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë‹¤ëŠ” ì¥ì ì´ ìˆì–´ì„œ ì¢‹ë‹¤ê³  í•  ìˆ˜ ìˆì§€ë§Œ í•œ ê°€ì§€ ë¬¸ì œì ì´ ìˆë‹¤.

![hash2](/images/data-structure/hash-2.png)

- ìœ„ ê·¸ë¦¼ì—ì„œ ì‚¬ëŒë“¤ì´ ìˆê³ , ìˆ™ì†Œì—ëŠ” ì‚¬ëŒë“¤ì˜ "ì„±" ì´ë‹ˆì…œì„ ë”°ì„œ ìˆ™ì†Œì˜ ë°©ë“¤ì´ ìˆë‹¤. (K: ê¹€ì”¨, C: ì±„ì”¨, M: ë¯¼ì”¨, L: ì´ì”¨)
- ì‚¬ëŒë“¤ì„ "ì„±" ì´ë‹ˆì…œì— ë§ê²Œ ê°ê°ì˜ ìˆ™ì†Œë°©ì— ë°°ì¹˜í•˜ë ¤ê³  í•˜ëŠ”ë° ë§Œì•½ ì‚¬ëŒë“¤ì˜ "ì„±"ì´ ëª¨ë‘ "ê¹€ì”¨" ë¼ë©´ ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ í•œ ë°©ì—ë§Œ ê½‰ì°¨ ìˆì„ ê²ƒì´ë‹¤. (ê·¸ë ‡ê²Œ ë˜ë©´ ê³µê°„ íš¨ìœ¨ì´ êµ‰ì¥íˆ ë–¨ì–´ì§ˆ ê²ƒì´ë‹¤.)
- ê·¸ë˜ì„œ ë°©ì„ ë‚˜ëˆŒ ë•Œ íš¨ìœ¨ì ìœ¼ë¡œ ë°°ë¶„í•  ìˆ˜ ìˆë„ë¡ **íš¨ìœ¨ì ì¸ ê·œì¹™**ì„ ë§Œë“œëŠ” ê²ƒì´ êµ‰ì¥íˆ ì¤‘ìš”í•œë° ì´ê²ƒì„ Hash Function ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.
- í•´ì‹œí•¨ìˆ˜ì˜ ì•Œê³ ë¦¬ì¦˜ì´ ì¢‹ì§€ ì•Šì„ ë•Œ í•œ ë°©ì•ˆì— ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ê°€ ìƒê¸°ê¸° ë•Œë¬¸ì— **ì¶©ëŒ**ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ **Hash Collison(í•´ì‹œ ì¶©ëŒ)**ì´ ì¼ì–´ë‚œë‹¤ê³  í•œë‹¤.

> ğŸ‘» Hash Tableì˜ ìµœëŒ€ ì¥ì ì€ ê²€ìƒ‰ ì†ë„ê°€ `O(1)`ì´ë¼ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ìœ„ì™€ ê°™ì´ í•´ì‹œ ì¶©ëŒì´ ë°œìƒí•˜ë©´ ìµœëŒ€ `O(N)`ë§Œí¼ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°–ëŠ”ë‹¤.

## Hash ì•Œê³ ë¦¬ì¦˜ê³¼ ì¶©ëŒ

- **Different Keys -> Same Code**
  - ì„œë¡œ ë‹¤ë¥¸ í‚¤ê°’ì„ ê°€ì§€ë¡œ í•´ì‹œ í•¨ìˆ˜ë¥¼ ëŒë¦¬ë©´ ë™ì¼í•œ Hash Codeê°€ ë°˜í™˜ë  ìˆ˜ ìˆë‹¤.
  - ê·¸ ì´ìœ ëŠ” í‚¤ê°’ì€ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì— ë¬¸ìì—´ì˜ ê°€ì§€ìˆ˜ëŠ” ë¬´í•œí•œë° ë°˜í•´, Hash Code ì¦‰, ì •ìˆ˜ëŠ” ìœ í•œí•˜ê¸° ë•Œë¬¸ì´ë‹¤.
  - ë”°ë¼ì„œ Hash ì•Œê³ ë¦¬ì¦˜ì´ ì•„ë¬´ë¦¬ ì¢‹ì•„ë„ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- **Different Code -> Same Index**
  - ì„œë¡œ ë‹¤ë¥¸ Hash CodeëŠ” `(í•´ì‹œì½”ë“œ % ë°°ì—´ì˜ ê°œìˆ˜)` ì—°ì‚°ì— ì˜í•´ Indexë¡œ í™˜ì‚°í•´ë„ ë°°ì—´ì˜ ë°©ì€ í•œì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°™ì€ Indexë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ìœ„ 2ê°€ì§€ì˜ ê²½ìš°ì— ì˜í•´ ì¶©ëŒì´ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ ì´ëŸ¬í•œ ì¶©ëŒì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì¢‹ì€ Hash ì•Œê³ ë¦¬ì¦˜ì„ ë§Œë“œëŠ” ê²ƒì€ Hash Tableì—ì„œ êµ‰ì¥íˆ ì¤‘ìš”í•œ ê´€ê±´ì´ ë  ìˆ˜ ìˆë‹¤.

## Hash ì¶©ëŒ í•´ê²°ë²•

Hash ì¶©ëŒì„ í•´ê²°í•˜ê¸° ìœ„í•œ ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì§€ë§Œ ì•„ë˜ ë‘ ê°€ì§€ ë°©ë²•ì„ ì‘ìš©í•œ ë°©ë²•ë“¤ì´ë‹¤.

**Open Addressing (ê°œë°© ì£¼ì†Œë²•)**

![hash3](/images/data-structure/hash3.png)

- Open Addressing ë°©ì‹ ì¤‘ì—ì„œë„ `Linear Probing`, `Quadratic probing`, `Double hashing probing` 3ê°€ì§€ ë°©ì‹ì´ ìˆëŠ”ë° ê·¸ ì¤‘ì—ì„œ `Linear Probing` ë°©ì‹ì„ ì•Œì•„ë³¸ë‹¤.
- í•´ì‹œ ì¶©ëŒì´ ë°œìƒí•˜ë©´ ì¦‰, ë°°ì—´ì˜ ë°©ì— ì´ë¯¸ ë°ì´í„°ê°€ ë“¤ì–´ê°€ìˆë‹¤ë©´ ë‹¤ë¥¸ ë°©ì— í•´ë‹¹ ë°ì´í„°ë¥¼ ë°°ì¹˜(ì‚½ì…)í•˜ëŠ” ë°©ì‹ì„ ë§í•œë‹¤.
- ê³µê°œ ì£¼ì†Œ ë°©ì‹ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì´ ì•Œê³ ë¦¬ì¦˜ì€ ì¶©ëŒ(Collision)ì´ ë°œìƒí•˜ë©´ ë°ì´í„°ë¥¼ ì €ì¥í•  ë°©ì„ ì°¾ëŠ”ë‹¤. ë”°ë¼ì„œ ìµœì•…ì˜ ê²½ìš°ì—ëŠ” ë¹„ì–´ìˆëŠ” ë°©ì„ ì°¾ì§€ ëª»í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•œ ìœ„ì¹˜ê¹Œì§€ ë˜ëŒì•„ ì˜¬ ìˆ˜ë„ ìˆë‹¤.


**Separate Chaining (ë¶„ë¦¬ ì—°ê²°ë²•)**

![hash1](/images/data-structure/hash1-1.png)

- ìœ„ì—ì„œ ì‚´í´ë³¸ **Hash Table ê³¼ì •** ì„¹ì…˜ì—ì„œ ë‚˜ì˜¨ ê·¸ë¦¼ì´ ë°”ë¡œ **Separate Chaining ë°©ì‹**ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ Open Addressing ë°©ì‹ì€ Separate Chaining ë°©ì‹ë³´ë‹¤ ëŠë¦¬ë‹¤.
- Separate Chaining ë°©ì‹ì€ ë°°ì—´ì˜ ë°©ë“¤ì´ ìˆì„ ë•Œ ê°ê°ì˜ ë°©ë“¤ì€ Listì˜ ìë£Œêµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤.
- Open Addressing ë°©ì‹ì€ ë°°ì—´ì˜ ë¹ˆ ë°©ì„ ì°¾ëŠ” ë°©ì‹ì´ë¼ë©´ Separate Chaining ë°©ì‹ì€ í•´ì‹œ ì¶©ëŒì´ ë°œìƒí•˜ë©´ ì¦‰, í•´ë‹¹í•˜ëŠ” ë°©ì— ì´ë¯¸ ë°ì´í„°ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë°© ì•ˆì— `LinkedList`ë¥¼ ì„ ì–¸í•˜ì—¬ ë°ì´í„°ê°€ í• ë‹¹ë  ë•Œë§ˆë‹¤ `LinkedList`ì— ì¶”ê°€í•˜ë©´ ëœë‹¤.
- ìë°”ì—ì„œ **HashMap**ì´ Separate Chaining ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

> `Open Address` vs `Separate Chaining`
> - ë‘ ë°©ì‹ëª¨ë‘ ìµœì•…ì˜ ê²½ìš° `O(M)`ì´ë‹¤.
> - Open Address ë°©ì‹ì€ ì—°ì†ëœ ê³µê°„ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— Separate Chainingì— ë¹„í•´ ìºì‹œ íš¨ìš¸ì´ ì¢‹ë‹¤. ë”°ë¼ì„œ ë°ì´í„°ì˜ ê°œìˆ˜ê°€ ì¶©ë¶„íˆ ì ë‹¤ë©´ Open Address ë°©ì‹ì´ Separate Chaining ë°©ì‹ë³´ë‹¤ ì„±ëŠ¥ì´ ë” ì¢‹ë‹¤.
> - ë‹¤ë§Œ Open Address ë°©ì‹ì€ ë°©(ë²„í‚·)ì„ ê³„ì† ì‚¬ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— Separate Chaining ë°©ì‹ì˜ ê²½ìš° í…Œì´ë¸”ì˜ ë©”ëª¨ë¦¬ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

## Hash Table êµ¬í˜„í•˜ê¸°

## References

- https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/DataStructure#hash-table
- [ì‰¬ìš´ì½”ë“œ - ë§µê³¼ í•´ì‹œí…Œì´ë¸”](https://www.youtube.com/watch?v=ZBu_slSH5Sk)