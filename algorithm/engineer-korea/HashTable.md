# Hash Table

만약에 어떤 사람이 유튜브 동영상을 다운로드 받아서 그대로 자신의 영상을 올리게 되면 에러가 발생한다. 바로 중복된 영상이라고 경고를 내리는데 이게 가능한 이유가 `Hash Table`이다.

## Hash Table 개념

```shell
F(key) -> Hash Code -> Index -> Value
```

Hash Table이란 검색하고자 하는 `Key값`을 입력받고 입력받은 Key값을 `해시 함수`를 이용하여 반환받은 `Hash Code`를 배열의 `index`로 환산해서 `데이터(Value)`를 저장하고 접근하는 방식을 Hash Table이라 한다. (위에서 설명한 키워드들을 하나씩 알아보자.)

> Key값은 문자열이나 숫자, 파일 데이터가 될 수 있다.

## Hash Table 과정

![hash1](/images/data-structure/hash1-1.png)

- Hash Table의 가장 큰 장점은 검색 속도가 매우 빠르다는 점이다.
- 위 그림에서 `Key값`을 `해시 함수`를 이용하여 `Hash Code`를 반환한다. - 이 때 해시코드는 정수이다.
- 배열을 고정된 크기만큼 미리 만들어 놓는다. (0, 1, 2, ...)
- `(해시코드 % 배열의 개수) -> 나머지 결과값`을 배열에 나누어 담는다.
- 이는 해시코드값 자체가 배열의 인덱스로 사용되기 때문에 해시코드로 데이터의 위치를 바로 접근할 수 있기 때문에 검색 속도가 매우 빠른 것이다. (시간복잡도: `O(1)`)

## Hash 충돌

Hash Table은 검색 속도가 매우 빠르다는 장점이 있어서 좋다고 할 수 있지만 한 가지 문제점이 있다.

![hash2](/images/data-structure/hash-2.png)

- 위 그림에서 사람들이 있고, 숙소에는 사람들의 "성" 이니셜을 따서 숙소의 방들이 있다. (K: 김씨, C: 채씨, M: 민씨, L: 이씨)
- 사람들을 "성" 이니셜에 맞게 각각의 숙소방에 배치하려고 하는데 만약 사람들의 "성"이 모두 "김씨" 라면 위 그림처럼 한 방에만 꽉차 있을 것이다. (그렇게 되면 공간 효율이 굉장히 떨어질 것이다.)
- 그래서 방을 나눌 때 효율적으로 배분할 수 있도록 **효율적인 규칙**을 만드는 것이 굉장히 중요한데 이것을 Hash Function 알고리즘이다.
- 해시함수의 알고리즘이 좋지 않을 때 한 방안에 여러 개의 데이터가 생기기 때문에 **충돌**이 발생할 수 있는데 이를 **Hash Collison(해시 충돌)**이 일어난다고 한다.

> 👻 Hash Table의 최대 장점은 검색 속도가 `O(1)`이라는 장점이 있지만 위와 같이 해시 충돌이 발생하면 최대 `O(N)`만큼의 시간복잡도를 갖는다.