# 자바 데이터 타입, 변수 그리고 배열

## 목표
자바의 프리미티브 타입, 변수 그리고 배열을 사용하는 방법을 익힙니다.

## 학습할 것
- 프리미티브 타입 종류와 값의 범위 그리고 기본 값
- 프리미티브 타입과 레퍼런스 타입
- 리터럴
- 변수 선언 및 초기화하는 방법
- 변수의 스코프와 라이프타임
- 타입 변환, 캐스팅 그리고 타입 프로모션
- 1차 및 2차 배열 선언하기
- 타입 추론, var

## 프리미티브 타입 종류와 값의 범위 그리고 기본 값
기본(primitive) 타입이란 정수, 실수, 문자, 논리 리터럴을 직접 저장하는 타입
즉 -> byte, char, short, int, long, float, double, boolean 등

- 각 프리미티브 타입의 메모리 크기와 저장되는 값의 범위

![KakaoTalk_20210130_131502010](https://user-images.githubusercontent.com/55525868/106346846-5ce9b480-62fd-11eb-922d-a4bacdce8f5a.jpg)

bit: 0,1
1byte: 8bit 즉, 2의 8승

자바는 기본적으로 정수 연산을 int 타입으로 수행한다.
저장하려는 값이 정수 리터럴이라면 왠만하면 `int`로 선언하는 것이 좋다.
실수 리터럴의 기본 타입은 `double`이다.


## 프리미티브 타입과 레퍼런스 타입

- Primitive Type

`실제 값`을 저장하는 공간으로 `stack` 메모리에 저장한다. 

- Reference Type

`값이 저장되어 있는 값의 주소값`을 저장하는 공간으로 `Heap` 메모리에 저장한다.

즉, 프리미티브 타입은 실제 값을 그대로 메모리에 저장하는데
이 레퍼런스 타입은 실제 값이 저장되어 있는 주소값을 참조한다.

## 리터럴
- 아래 변수 선언 및 초기화하는 방법을 참고한다.

변수의 초기값은 코드에서 직접 입력할 때 이 소스 코드 내에서 직접 입력된 값을 `리터럴(literal)`이라고 부른다.

리터럴은 값의 종류의 따라 분류된다.
정수 리터럴, 실수 리터럴, 문자 리터럴, 논리 리터럴

```
정수 리터럴: 1, 2, 70 ...
	0으로 시작하는 리터럴(8진수): 02, 03 ...
	0x로 시작하는 리터럴(16진수): 0x3, 0xA ...
정수 리터럴을 저장할 수 있는 타입은 byte, char, short, int, long

실수 리터럴: 1.5, 3.33333 ...
실수 리터럴을 저장할 수 있는 타입은 float, double

문자 리터럴: 'A', '채' ...
문자 리터럴을 저장할 수 있는 타입은 char

문자열 리터럴: "잘하자", "Hello~?" ...
문자열 리터럴을 저장할 수 있는 타입은 String

논리 리터럴: true, false
논리 리터럴을 저장할 수 있는 타입은 boolean
```

리터럴은 상수(constant )와 같은 의미이지만,
프로그램에서는 상수를 "값을 한번 저장하면 변경할 수 없는 변수"로 정의하기 때문에
이와 구분하기 위해 `리터럴`이라는 용어를 사용한다.
즉, 리터럴은 값을 변경할 수 있어야 한다.



## 변수 선언 및 초기화하는 방법
- 변수 선언

변수란, 변할 수 있는 값을 의미한다.
그리고 하나의 값을 저장할 수 있는 메모리 공간이다.

- 변수 선언 방법

```java
int age; //정수값을 저장할 수 있는 age 변수 선언
double value; //실수값을 저장할 수 있는 value 변수 선언
```

여기서 변수 타입이란 `int`, `double`이 되며 이 타입에는 범위를 결정짓는다.
또한 변수 이름은 `age`, `value`가 되며 메모리 주서에 붙여진 이름이다.
프로그램은 변수 이름을 통해서 메모리 주소에 접근하고, 그곳에 값을 저장하거나 그곳에 있는 값을 읽는다.

- 초기화하는 방법

변수에 값을 저장할 때는 대입 연산자(=)를 사용한다. 이는 같다는 뜻이 아닌 "`a=b` 라는 것이 있다면 변수 `a`에다가 `b`의 값을 집어넣는다 라는 뜻이다."
그리고 아래 예시와 같이 변수를 선언하고 처음 값을 저장할 경우를 `초기화`라고 한다.

```java
int num; //변수 선언
num = 10; //변수 num에다가 10으로 초기화해준다.
```

## 변수의 스코프와 라이프타임

- 변수의 스코프(범위)

변수는 중괄호 {} 블록 내에서 선언되고 사용된다.
메소드 블록 내에서 선언된 변수를 `지역 변수(local variable)`
이 로컬 변수는 메소드 실행이 끝나면 자동으로 없어진다.
즉, 메소드 내에서만 사용할 수 있기 때문에 로컬 변수라고 한다.

반대로 전체에서 즉, 어디서든 호출 가능한 변수를 `전역 변수(global variable)`

> 코드 개선
> 만약 변수를 잠깐 사용하는 것이라면 예를 들어, 반복문에서만 사용한다하면 로컬 변수로 선언하여 나중에 필요없어지면 메모리 낭비를 줄일 수 있다.

- 변수의 라이프타임

라이프타임이란 뜻 그래로 변수가 메모리에서 살아 있는 기간

- 인스턴스 변수

```
int a, b;
```

클래스 내부에 선언된 변수
스코프 : 클래스 전체
라이프타임: 객체가 메모리에 남아있을 때까지.

- 클래스 변수

```
static a;
```

클래스 내부에 선언된 static 변수
스코프 : 클래스 전체
라이프타임: 프로그램이 끝낼 때까지 또는 클래스가 메모리에 로드되는 동안

- 지역 변수

메소드나 블록 내에 선언된 변수
스코프: {} 내에서 사용
라이프타임: 블록을 벗어날 때까지

## 타입 변환, 캐스팅 그리고 타입 프로모션

- 타입 변환

타입 변환 말 그대로 데이터 타입을 다른 데이터 타입으로 변환하는 것을 얘기한다.
`int -> byte` or `byte -> int`
전자 같은 경우는 큰 값에서 작은 값으로 강제로 변환하기 때문에 `명시적 타입 변환`이라 하며, 후자는 작은 값에서 큰 값으로 자동으로 변환하기 때문에 `묵시적 타입 변환`이라고 한다.

먼저 타입 프로모션
자동 타입 변환은 프로그램 실행 도중에 자동적으로 타입 변환이 일어나는 것을 말한다.
즉, 묵시적 타입 변환에 해당된다.

```java
byte b = 5;
int a = b;
```

> 크기 순서 : double > float > long > int > short > byte

다음으로 캐스팅
캐스팅은 강제적으로 타입을 변환시켜야 할 때 사용한다. 즉, 명시적 타입 변환에 해당된다.

```java
int a = 10;
byte b = (byte) a;
```

사용시 주의할 점은 변환하려는 타입을 명시해주어야 한다.
이게 작은 값에 큰 값을 저장하려다 보니 데이터 손실이 있을 수 있으니 주의해야 한다.

## 1차 및 2차 배열 선언하기
자바에서 배열은 객체이기 때문에 `Heap` 영역에 생성된다.

```java
int arr[] = new int[2]; //크기가 2인 1차 배열. 방 2개가 생성된다.
int arr[][] = {{1,2},{3,4}}; //2차 배열 초기화. int arr[][] = new int[2][2]; 로 선언해도 무방
```

## 타입 추론, var
자바 10부터 타입 추론을 지원하는 `var`가 추가되었다. (자바스크립트가 생각나는구나..)
이는 지역 변수이면서 동시에 초기화가 필수적으로 요구된다.

```java
int a = 10;
---
var a = 10;
```

하지만 자주 사용하는지는 모르겠다..

### reference
https://league-cat.tistory.com/408

http://asq.kr/vtP52zbRHYFrnI

이것이 자바다
