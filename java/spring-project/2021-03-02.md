# 객체로 파라미터 주입받기

## Map

- 클라이언트가 전달하는 모든 파라미터 데이터를 한번에 Map으로 받을 수 있다.
- 2개 이상의 파라미터 이름을 동일할 경우 앞에있는 하나만 받게된다.
- 2개 이상사용하려면 `List`로 주입받아야 한다.

```java
@Controller
public class TestController {

	@GetMapping("/test1")
	public String test1(@RequestParam Map<String, String> map, @RequestParam List<String> data3) {
	}
}
```

## @ModelAttribute

- @ModelAttribute를 사용하면 파라미터를 객체로 주입받을 수 있다.
- 전달되는 파라미터의 이름과 동일한 프로퍼티에 자동으로 주입된다.
- 생략이 가능하다.
- 파라미터를 객체로 주입받기 위한 이 객체를 `커맨드 객체`라고도 한다.

```java
@GetMapping("/test2")
public String test2(@ModelAttribute DataBean bean1) {...}
//DataBean : DAO 클래스
//@ModelAttribute 생략 가능
```

# ViewResolver

- 컨트롤러에서 전달받은 View의 이름을 토대로 jsp를 찾아 선택하고 jsp 데이터를 분석해 응답결과를 보내는 요소이다.

## HttpServletRequest

- Spring MVC는 jsp를 처리할 때 HttpServletRequest 객체를 jsp로 전달한다.
- ViewReolver는 이를 이용해 jsp 작업시 데이터를 사용할 수 있다.

```java
@Controller
public class TestController {

	@GetMapping("/test1")
	public String test1(HttpServletRequest request) {
		request.setAttribute("data1", 100);
		request.setAttribute("data2", 200);
		return "test1";
	}
}
```

## Model

- Model 객체를 주입받아 세팅하면 HttpServletRequest 객체에 담겨 이를 JSP로 전달할 수 있다.

```java
@Controller
public class TestController {

	@GetMapping("/test1")
	public String test1(Model model) {
		model.addAttribute("data1", 100);
		model.addAttribute("data2", 200);
		return "test1";
	}
}
```

## ModelAndView

- ModelAndView는 Model에 값을 세팅하는 기능과 View의 이름을 지정하는 기능 모두 가지고 있다.

---

## 정리

- **ViewResolver에 의해 JSP가 실행되고 응답결과가 만들어진다.**
- **Controller에서 View를 지정할 때 ViewResolver가 사용할 데이터를 Request 영역에 저장할 수 있다.**
